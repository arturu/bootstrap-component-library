{% spaceless %}

{# 
  Parameters:
  - label (string) (default: '')
  - variant (string) (default: 'primary')
  - size (string) (default: 'md')
    - options ["sm", "md", "lg"]
  - type (string) (default: 'button')
  - outline (boolean) (default: false)
  - disabled (boolean) (default: false)
  - toggle (boolean) (default: false)
  - toggle_type (string) (default: 'button')
    - options ["button", "collapse"]
  - target (string) (default: '')
  - aria_expanded (string) (default: 'false')
    - options ["true", "false"]
  - text_nowrap (boolean) (default: false)
  - assistive_text (string) (default: '')
  - clean_class (boolean) (default: true)
  - extra_classes (string) (default: '')
#}

{% set _label = label|default('') %}
{% set _variant = variant|default('primary') %}
{% set _size = size|default('md') %}
{% set _type = type|default('button') %}
{% set _outline = outline|default(false) %}
{% set _disabled = disabled|default(false) %}
{% set _toggle = toggle|default(false) %}
{% set _toggle_type = toggle_type|default('button') %}
{% set _target = target|default('') %}
{% set _aria_expanded = aria_expanded|default('false') %}
{% set _text_nowrap = text_nowrap|default(false) %}
{% set _assistive_text = assistive_text|default('') %}
{% set _clean_class = clean_class|default(false) %}
{% set _extra_classes = extra_classes|default('') %}
{% set _class = '' %}
{% if _clean_class == false %}
  {% set _class = 'btn btn-' ~ (_outline ? 'outline-' : '') ~ _variant %}
  {% set _class = _class ~ ' btn-' + _size %}
{% endif %}
{% set _class = _class ~ (_text_nowrap ? ' text-nowrap' : '') %}
{% if _extra_classes is not empty %}
  {% set _class = _class ~ ' ' ~ _extra_classes %}
{% endif %}

<button
  type="{{ _type }}"
  class="{{ _class }}" 
  {{ _disabled ? 'disabled aria-disabled="true"' : '' }}
  {% if _toggle %}
    data-bs-toggle="{{ _toggle_type }}"
    autocomplete="off"
    {% if _toggle_type == 'collapse' %}
      data-bs-target="#{{ _target }}"
      aria-expanded="{{ _aria_expanded }}"
      aria-controls="{{ _target }}"
    {% endif %}
  {% endif %}>
    {%- if _assistive_text is not empty -%}
      <span class="visually-hidden">{{- _assistive_text -}}</span>
    {% endif %}
    {{- label -}}
</button>

{% endspaceless %}
